<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<link rel="Stylesheet" type="text/css" href="qunit.css" />
	<title>Unit Test</title>
</head>
<body>

<h1 id="qunit-header">Unit Test</h1>
<h2 id="qunit-banner"></h2>
<ol id="qunit-tests"></ol>

<script src="jquery-1.6.2.min.js"></script>
<script src="qunit.js"></script>
<script src="../rjs.js"></script>
<script src="../rjs-proto.js"></script>

<script>
$(function() {

	module("rjs");

	test("filter", function() {
		var arr = [1,2,3,4,5];
		var even = function(n) { return n%2===0; };
		deepEqual(RJS.filter(arr, even), [2,4], "Filters out falsey results.");
		deepEqual(arr, [1,2,3,4,5], "Original array intact.");
	});

	test("filterBy", function() {
		var arr = [{a: 1, b: 2}, {a: 1, b: 5}, {a: 0, b: 10}];
		deepEqual(RJS.filterBy(arr, "a", 1), [{a: 1, b: 2}, {a: 1, b: 5}], "Filter an array of objects by a given property value.");
	});

	test("changeKeys", function() {
		// Assertions, ok, equal, notEqual, deepEqual, notDeepEqual, strictEqual, notStrictEqual
		var oldObject = { fname: "Raine", lname: "Lourie", specialty: "Javascript" };
		var newObject = RJS.changeKeys( oldObject, { fname: "first", lname: "last" });
		deepEqual(oldObject, { fname: "Raine", lname: "Lourie", specialty: "Javascript" }, "Old object is unmodified.");
		deepEqual(newObject, { first: "Raine", last: "Lourie", specialty: "Javascript" }, "New object contains modified keys.");

	});

	test("new", function() {
		var Person = function(name, age) {
			this.name = name;
			this.age = age;
		};
		var p = RJS.new(Person, "Raine", 26);
		ok(p instanceof Person);
		equal(p.name, "Raine");
		equal(p.age, 26);
	});

	module("rjs-proto");

	test("new", function() {
		var Person = function(name, age) {
			this.name = name;
			this.age = age;
		};
		var p = Person.new("Raine", 26);
		ok(p instanceof Person);
		equal(p.name, "Raine");
		equal(p.age, 26);
	});

});
</script>

</body>
</html>
